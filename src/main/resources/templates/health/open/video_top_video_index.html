<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>宣教系统</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport" />
    <link rel="stylesheet" href="/static/assets/bootstrap3/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/static/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="/static/css/ionicons.min.css"/>
    <link rel="stylesheet" href="/static/css/iconfont.css"/>
    <link rel="stylesheet" href="/static/css/AdminLTE.min.css"/>
    <link rel="stylesheet" href="/static/css/skins/skin-green-light.min.css"/>
    <link rel="stylesheet" type="text/css" href="/static/js/sliderPro/css/slider-pro.css" media="screen" />
    <style type="text/css">
    .video-list {
        list-style: none;
        text-align: center;
    }

    .right-tool {
        float: right;
    }

    .list {
        list-style: none;
        float: left;
        text-align: center;
        width: 23%
    }

    .right-text {
        display: inline;
        float: right;
    }

    .name-box {
        display: inline-block;
        height: 54px;
        width: 140px;
    }

    .fa-check-square-o {
        font-size: 54px;
    }

    .p1 {
        color: #666666;
        font-size: 14px;
        line-height: 18px;
    }

    .p2 {
        color: #666666;
        line-height: 20px;
        font-size: 22px;
    }

    .go-todo-btn {
        padding
    }

    .name {
        color: #000;
    }

    .name:hover,
    .name:active,
    .name:focus {
        color: #000;
        text-decoration: underline
    }

    .btn-primary {
        background-color: #00a65a;
        border-color: #00a65a
    }

    .btn-primary:hover {
        background-color: #1ddc50;
        border-color: #1ddc50
    }

    .video-li {
        margin-bottom: 20px;
        float: left;
        width: 32%;
    }

    .notice-box {
        display: inline-block;
        width: 76%;
        text-align: left;
        text-height: 200px;
        padding-left: 20px;
        vertical-align: top;
    }

    #noticeContent {
        height: 70px;
        font-size: 15px;
        padding-top: 5px;
        overflow: hidden;
        /* 内容超出宽度时隐藏超出部分的内容 */
        text-overflow: ellipsis;
        /* 当对象内文本溢出时显示省略标记(...) ；需与overflow:hidden;一起使用。*/
    }

    .btn-detail {
        margin-top: 15px;
        border: none;
        float: right;
        color: #3c8dbc
    }

    .block {
        padding: 20px;
        padding-right: 50px;
        padding-left: 50px;
    }

    .sli {
        margin-top: 20px;
    }
    </style>
</head>

<body class="layout-top-nav skin-green-light">
    <div class="wrapper">
        <div th:include="/health/open/open_top" />
        <!-- Full Width Column -->
        <div class="content-wrapper">
            <div class="container">
                <div class="box box-solid" style="margin-top: 20px">
                    <div class="box-body">
                        <div id="example1" class="slider-pro sli">
                            <div class="sp-slides" >
                                <div class="sp-slide" th:each="video,iter: ${videos}">
                                    <img class="sp-image" th:if="${video.showImageUrl!=null}" th:src="@{'/file/'+${video.showImageUrl.thumbnailPelativePath}}" th:onclick="play([[${video.id}]])">
                            		<img  th:if="${video.showImageUrl==null}" src="/static/image/health/video.png" th:onclick="play([[${video.id}]])">
                                    <p class="sp-layer sp-white sp-padding" style="text-align: center" data-horizontal="17%" data-vertical="5" data-width="50%" data-show-transition="left" data-hide-transition="up" data-show-delay="400" data-hide-delay="200" th:text="${video.name.length()>30}?${#strings.substring(video.name,0,30)+'.........'}:${video.name}">
                                    </p>
                                </div>
                            </div>
                            <!-- <div class="sp-thumbnails">
                        <div class="sp-thumbnail" th:each="video,iter: ${videos}">
                            <div class="sp-thumbnail-description"><img  style="width:200px" th:src="@{'/file/'+${video.showImageUrl.pelativePath}}"></img></div>
                        </div>
                    </div> -->
                        </div>
                        <div class="row block">
                            <h4 align='center'><strong>视频列表</strong></h4>
                            <div class="pull-right">
                                <a class="btn" id="model_edit_btn" href="/open/health/message/center/video/index">查看更多></a>
                            </div>
                        </div>
                        <div class="row block">
                            <div class="col-sm-3" style="text-align: center;" th:each="video,iter: ${videosAll}">
                                <span><a th:href="${'/open/health/message/center/play?id='+ video.id}">
                                        <img th:if="${video.showImageUrl!=null}" th:src="@{'/file/'+${video.showImageUrl.thumbnailPelativePath}}" alt="ATTACHMENT">
                            			<img  th:if="${video.showImageUrl==null}" src="/static/image/health/video.png" alt="ATTACHMENT">
                                <div class="detail">
                                    <div>
                                        <strong><a class="name" th:href="${'/open/health/message/center/play?id='+ video.id}" th:text="${video.name}"></a></strong>
                                    </div>
                                    <div>
                                        <span>发布时间：</span><span th:text="${#dates.format(video.publishTime, 'yyyy-MM-dd')}"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row block">
                            <h4 align='center'><strong>文章列表</strong></h4>
                            <div class="pull-right">
                                <a class="btn" id="model_edit_btn" href="/open/health/message/center/message/index">查看更多></a>
                            </div>
                        </div>
                        <div class="row block">
                            <div class="post" style="padding-right: 30px;padding-left: 30px" th:each="message,iter: ${messages}">
                               <img th:if="${message.thumbnailUrl!=null}" th:src="@{'/file/'+${message.thumbnailUrl.thumbnailPelativePath}}" alt="ATTACHMENT" style="width:20%">
                            	<img  th:if="${message.thumbnailUrl==null}" src="/static/image/health/article.png" alt="ATTACHMENT" style="width:20%">
                                <div class="notice-box">
                                    <div>
                                        <h4 ><a th:href="${'/open/health/message/center/display/index?id='+ message.id}"><strong th:text="${message.title}"></strong></a></h4>
                                    </div>
                                    <div style="font-size:10px; color:#999">
                                        <span th:text="${#dates.format(message.publishTime, 'yyyy-MM-dd')}"></span><span>&nbsp;&nbsp;|&nbsp;&nbsp;关键词&nbsp;&nbsp;</span>
                                        <span th:text="${message.label}"></span>
                                    </div>
                                    <div id="noticeContent" th:utext="${message.summary}"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="/static/assets/jquery/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="/static/assets/bootstrap3/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/assets/adminLTE/js/adminlte.min.js"></script>
    <script type="text/javascript" src="/static/js/sliderPro/js/jquery.sliderPro.js"></script>
    <script type="text/javascript" src="/static/js/jwplayer/jwplayer.js"></script>
    <script type="text/javascript">
    $(document).ready(function() {
        $('#example1').sliderPro({
            width: $("#example1").width() - 100,
            height: 500,
            arrows: true,
            //buttons: false,
            centerImage: true,
            imageScaleMode: 'contain',
            waitForLayers: true,
            thumbnailWidth: 200,
            thumbnailHeight: 150,
            thumbnailPointer: true,
           autoScaleLayers: false,
            breakpoints: {
                800: {
                    thumbnailsPosition: 'bottom',
                    thumbnailWidth: 270,
                    thumbnailHeight: 100
                },
                500: {
                    orientation: 'vertical',
                    thumbnailsPosition: 'bottom',
                    thumbnailWidth: 120,
                    thumbnailHeight: 50
                }

            }
        });
    });

    function play(value) {
        window.location.href = "/open/health/message/center/play?id=" + value;
    }

    </script>
</body>

</html>